{% extends "base.html" %}

{% block content %}
  <h1>
    Task list
    <a href="{% url 'todolist:task-create' %}" class="btn btn-primary link-to-page">
      Add Task
    </a>
  </h1>

  {% if task_list %}
    <ul>
      <li>
      {% for task in task_list %}
          <h3>{{ task.content }}
            {% if task.done %}
              <h3 style="color: green">Done</h3>
              {% else %}
              <h3 style="color: red">Not Done</h3>
          {% endif %}
          </h3>

          <h6>Created: {{ task.datetime }}
            {% if task.deadline %}
            <h6 style="color: darkred">Deadline: {{ task.deadline }}</h6>
            {% endif %}
          </h6>

          <h3 style="color: darkgrey">Tags:
          {% for tag in task.tags.all %}
            {{ tag.name }}
          {% endfor %}
            <a href="{% url 'todolist:task-update' task.pk%}">Update</a>
            <a href="{% url 'todolist:task-delete' task.pk%}">Delete</a>

          </h3>
          {% if task.done %}
            <a href="{% url 'todolist:task-complete' task.pk%}" class="btn btn-primary link-to-page">Completed</a>
            {% else %}
            <a href="{% url 'todolist:task-complete' task.pk%}" class="btn btn-danger link-to-page">Undo</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>There are no tasks</p>
  {% endif %}
{% endblock %}
